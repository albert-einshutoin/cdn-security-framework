# CDN Security Framework へのコントリビューション

コントリビューションに興味を持っていただきありがとうございます。変更の提案方法と、こちらが期待する内容をまとめています。

---

## コントリビューションの方法

### バグ報告・機能提案

- [Issue](https://github.com/YOUR_ORG/YOUR_REPO/issues) を立て、タイトルと説明を明確に記載してください。
- バグ: 再現手順、期待する動作と実際の動作、環境（CDN・ランタイム）を含めてください。
- 機能: ユースケースと、フレームワークのスコープ（Edge セキュリティ、ポリシー駆動、WAF と補完）にどう合うかを記載してください。

### コード・ドキュメント

1. リポジトリを **Fork** し、`main` からブランチを作成（例: `fix/admin-gate`, `docs/quickstart`）。
2. **変更**は小さく分けたコミットで行ってください。`.ja` が付かないファイルとコード内コメントは **英語**、`.ja` ファイルには **日本語** のみ記載してください。
3. **手動でテスト**: 変更したランタイム（CloudFront Functions のコンソール、Workers の `wrangler dev` など）で動作確認してください。
4. **Pull Request** を `main` 向けに作成し、短い説明と、あれば Issue へのリンクを書いてください。

---

## レビューで見るポイント

- **設計との整合**: Edge を「最前線」とする、可能な範囲でポリシー駆動、WAF の責務（レート制限、OWASP、Bot）と重複しないこと。
- **後方互換**: 既存のポリシー・ランタイムの挙動を壊す変更は、移行パスを明示した上で行ってください。
- **ドキュメント**: 機能追加・セットアップ変更時は README や docs を更新してください。`.ja` 以外のファイルは英語で記載してください。

---

## リポジトリ構成

- `docs/` – アーキテクチャ、脅威モデル、判断マトリクス、クイックスタート（英語 + `.ja`）。
- `policy/` – YAML ポリシー。`profiles/` にプロファイル（例: `balanced.yml`）を配置。
- `runtimes/` – CloudFront Functions、Lambda@Edge、Cloudflare Workers。コード・コメントは **英語**。
- `examples/` – AWS CloudFront / Cloudflare のデプロイ例。

---

## コードと言語

- **`.ja` が付かないファイル**（`.js`, `.ts`, `.yml`, `.md` 等）: **英語のみ**（コメント・ドキュメント・PR のコミットメッセージ）。
- **`.ja` が付くファイル**（例: `README.ja.md`, `docs/quickstart.ja.md`）: ユーザー向け文面は **日本語のみ**。

---

## ライセンス

コントリビューションいただいた内容は、本プロジェクトと同じライセンス（MIT）で提供されることにご同意いただいたものとみなします。

---

## 質問

不明点があれば、Issue を「question」ラベルで立てるか、機密にしたい場合は [SECURITY.md](SECURITY.md) の連絡手段をご利用ください。
